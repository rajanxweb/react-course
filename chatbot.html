<!DOCTYPE html>
<html>

<head>
  <title>Chatbot</title>
</head>

<body>
  <div class="js-container"></div>
  <script src="https://unpkg.com/supersimpledev@8.6.4/external-library.js"></script>

  <script src="https://unpkg.com/supersimpledev/react.js"></script>
  <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

  <script src="https://unpkg.com/supersimpledev/babel.js"></script>
  <script type="text/babel">
    function ChatInput() {
      return (
        <>
          <input
            placeholder="send a message to chatbot"
            size="30"
          />
          <button>submit</button>
        </>
      )
    }
    function ChatMessage({ message, sender }) {
      return (
        <div>
          {sender === 'robot' && (
            <img src="robot.png" alt="image of robot" width="50" />
          )}
          {message}
          {sender === 'user' && (
            <img src="user.png" alt="image of user" width="50" />)

          }

        </div>
      )

    }
    function ChatMessages() {
      const chatMessages = [{
        message: "hello chatbot",
        sender: "user",
        id: 'id1'
      },
      {
        message: "hello! how can i help you",
        sender: "robot",
        id: 'id2'
      },
      {
        message: "today is october 12",
        sender: "robot",
        id: 'id3'
      }]
      function sendMessage(){
        chatMessages.push({
          message: 'test',
          sender: 'user',
          id: crypto.randomUUID()
        });
        console.log(sendMessage);
      }
      

      return (
        <>
        <button onClick={sendMessage}>send a message</button>
          {chatMessages.map(
            (chatMessage) => {
              return (
                <ChatMessage
                  message={chatMessage.message}
                  sender={chatMessage.sender}

                />)
            }
          )}

        </>
      )
    }
    function App() {
      return (
        <div>
          <ChatInput />
          <ChatMessages />

        </div>);
    }


    const container = document.querySelector('.js-container');
    ReactDOM.createRoot(container).render(<App />);
  </script>
</body>

</html>